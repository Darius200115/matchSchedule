{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nlet AuthService = class AuthService {\n  constructor(http, router, location) {\n    this.http = http;\n    this.router = router;\n    this.location = location;\n    this.baseUrl = 'https://localhost:7145/api/User/';\n    this.userPayload = this.decodedToken();\n  }\n  signUp(userObj) {\n    return this.http.post(`${this.baseUrl}register`, userObj);\n  }\n  signOut() {\n    localStorage.removeItem('token');\n    this.router.navigate(['/']);\n    this.location.reload();\n  }\n  login(loginObj) {\n    return this.http.post(`${this.baseUrl}authenticate`, loginObj);\n  }\n  storeToken(token) {\n    localStorage.setItem('token', token);\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n  isLoggedIn() {\n    return !!localStorage.getItem('token');\n  }\n  decodedToken() {\n    const jwtHelper = new JwtHelperService();\n    const token = this.getToken();\n    return jwtHelper.decodeToken(token);\n  }\n  getFullNameFromToken() {\n    if (this.userPayload) return this.userPayload.name;\n  }\n  getRoleFromToken() {\n    if (this.userPayload) return this.userPayload.role;\n  }\n};\nAuthService = __decorate([Injectable({\n  providedIn: 'root'\n})], AuthService);\nexport { AuthService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}